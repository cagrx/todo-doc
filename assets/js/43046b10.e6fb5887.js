"use strict";(self.webpackChunktodo_doc=self.webpackChunktodo_doc||[]).push([[6711],{8266:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"level1/devops/deployment/create-instance","title":"**Setting Up the Lightsail Instance**","description":"In this section, we\u2019ll cover how to create your AWS Lightsail instance, connect to it using AWS\u2019s built-in browser-based terminal, download the SSH key, and integrate it into your project. Finally, we\u2019ll connect to the Lightsail instance directly from the VSCode terminal.","source":"@site/docs/level1/devops/deployment/create-instance.md","sourceDirName":"level1/devops/deployment","slug":"/level1/devops/deployment/create-instance","permalink":"/todo-doc/docs/level1/devops/deployment/create-instance","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"sidebar_label":"Create Instance","sidebar_position":20},"sidebar":"tutorialSidebar","previous":{"title":"Intro","permalink":"/todo-doc/docs/level1/devops/deployment/intro"},"next":{"title":"Networking - Intro","permalink":"/todo-doc/docs/level1/devops/deployment/networking-intro"}}');var i=s(4848),r=s(8453);const o={sidebar_label:"Create Instance",sidebar_position:20},l="Setting Up the Lightsail Instance",a={},c=[{value:"<strong>1. Create an AWS Lightsail Instance</strong>",id:"1-create-an-aws-lightsail-instance",level:2},{value:"<strong>2. Connect Using the Built-In Browser Terminal</strong>",id:"2-connect-using-the-built-in-browser-terminal",level:2},{value:"<strong>What You Are Looking At</strong>",id:"what-you-are-looking-at",level:3},{value:"<strong>Introductory Commands to Explore Your Instance</strong>",id:"introductory-commands-to-explore-your-instance",level:3},{value:"<strong>3. What Is SSH and Why Do We Need an SSH Key?</strong>",id:"3-what-is-ssh-and-why-do-we-need-an-ssh-key",level:2},{value:"<strong>What Is SSH?</strong>",id:"what-is-ssh",level:3},{value:"<strong>What Is an SSH Key?</strong>",id:"what-is-an-ssh-key",level:3},{value:"<strong>Why Do We Need an SSH Key?</strong>",id:"why-do-we-need-an-ssh-key",level:3},{value:"<strong>4. Download the SSH Key</strong>",id:"4-download-the-ssh-key",level:2},{value:"<strong>Understanding the Fields in the Instance Details UI</strong>",id:"understanding-the-fields-in-the-instance-details-ui",level:3},{value:"<strong>5. Connect via VSCode Terminal</strong>",id:"5-connect-via-vscode-terminal",level:2},{value:"<strong>Next Steps</strong>",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"setting-up-the-lightsail-instance",children:(0,i.jsx)(n.strong,{children:"Setting Up the Lightsail Instance"})})}),"\n",(0,i.jsx)(n.p,{children:"In this section, we\u2019ll cover how to create your AWS Lightsail instance, connect to it using AWS\u2019s built-in browser-based terminal, download the SSH key, and integrate it into your project. Finally, we\u2019ll connect to the Lightsail instance directly from the VSCode terminal."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"1-create-an-aws-lightsail-instance",children:(0,i.jsx)(n.strong,{children:"1. Create an AWS Lightsail Instance"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Log in to your ",(0,i.jsx)(n.a,{href:"https://lightsail.aws.amazon.com/",children:"AWS Lightsail Console"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Click the ",(0,i.jsx)(n.strong,{children:"Create Instance"})," button."]}),"\n",(0,i.jsxs)(n.li,{children:["Configure your instance:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Platform"}),": Select ",(0,i.jsx)(n.strong,{children:"Linux/Unix"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Blueprint"}),": Select ",(0,i.jsx)(n.strong,{children:"Node.js"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Instance Plan"}),": Choose a plan that fits your needs (the smallest option is sufficient for this project)."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Name your instance (e.g., ",(0,i.jsx)(n.code,{children:"todo-app"}),") and click ",(0,i.jsx)(n.strong,{children:"Create Instance"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Wait for the instance to start. You\u2019ll see its status change to ",(0,i.jsx)(n.strong,{children:"Running"})," in the Lightsail dashboard."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"2-connect-using-the-built-in-browser-terminal",children:(0,i.jsx)(n.strong,{children:"2. Connect Using the Built-In Browser Terminal"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"In the Lightsail dashboard, click on your newly created instance."}),"\n",(0,i.jsxs)(n.li,{children:["Scroll down to the ",(0,i.jsx)(n.strong,{children:"Connect to your instance"})," section."]}),"\n",(0,i.jsxs)(n.li,{children:["Click the ",(0,i.jsx)(n.strong,{children:"Connect using SSH"})," button (it\u2019s orange) to open the built-in browser-based terminal."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"what-you-are-looking-at",children:(0,i.jsx)(n.strong,{children:"What You Are Looking At"})}),"\n",(0,i.jsx)(n.p,{children:"The browser terminal connects you directly to the virtual machine (VM) of your Lightsail instance. This is a Linux shell where you can interact with your server, run commands, and configure your environment. You now have full control of your instance."}),"\n",(0,i.jsx)(n.h3,{id:"introductory-commands-to-explore-your-instance",children:(0,i.jsx)(n.strong,{children:"Introductory Commands to Explore Your Instance"})}),"\n",(0,i.jsx)(n.p,{children:"Here are some basic linux commands you can use to familiarize yourself with your instance:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"pwd"}),": Prints the current working directory (where you are in the file system)."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pwd\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Example output: ",(0,i.jsx)(n.code,{children:"/home/bitnami"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"ls -l"}),": Lists the contents of the current directory in a detailed format, including permissions, sizes, and modification dates."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ls -l\n"})}),"\n",(0,i.jsx)(n.p,{children:"Example output:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-plaintext",children:"drwxr-xr-x 2 bitnami bitnami 4096 Jan 10 12:00 public\n-rw-r--r-- 1 bitnami bitnami   64 Jan 10 12:00 server.js\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"whoami"}),": Shows the current user you are logged in as."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"whoami\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Example output: ",(0,i.jsx)(n.code,{children:"bitnami"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"uname -a"}),": Displays information about the system (e.g., OS, kernel version)."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"uname -a\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Example output: ",(0,i.jsx)(n.code,{children:"Linux ip-172-26-9-154 6.1.0-28-cloud-amd64 ..."})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Feel free to run these commands to get a sense of how the terminal works and what environment your instance is running."}),"\n",(0,i.jsx)(n.p,{children:"When you're done, simply close the browser terminal to close your connection. (This will not close or stop the instance.)"}),"\n",(0,i.jsx)(n.p,{children:"In the next section we'll discuss how you can connect to your instance directly from your local machine."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"3-what-is-ssh-and-why-do-we-need-an-ssh-key",children:(0,i.jsx)(n.strong,{children:"3. What Is SSH and Why Do We Need an SSH Key?"})}),"\n",(0,i.jsx)(n.h3,{id:"what-is-ssh",children:(0,i.jsx)(n.strong,{children:"What Is SSH?"})}),"\n",(0,i.jsx)(n.p,{children:"SSH (Secure Shell) is a network protocol that allows you to securely log into and execute commands on a remote server. It provides encrypted communication, ensuring that data sent between your computer and the server is secure. SSH is widely used for server management, file transfers, and automated deployments."}),"\n",(0,i.jsx)(n.h3,{id:"what-is-an-ssh-key",children:(0,i.jsx)(n.strong,{children:"What Is an SSH Key?"})}),"\n",(0,i.jsxs)(n.p,{children:["An SSH key is a pair of cryptographic keys (a private key and a public key) used for secure authentication. The ",(0,i.jsx)(n.strong,{children:"private key"})," stays on your local machine and is kept secret, while the ",(0,i.jsx)(n.strong,{children:"public key"})," is stored on the remote server. Together, they allow secure, passwordless access to the server."]}),"\n",(0,i.jsx)(n.h3,{id:"why-do-we-need-an-ssh-key",children:(0,i.jsx)(n.strong,{children:"Why Do We Need an SSH Key?"})}),"\n",(0,i.jsx)(n.p,{children:"AWS Lightsail uses SSH keys to securely authenticate and connect to your instance. Instead of using a password, which can be insecure and cumbersome, the SSH key provides a more secure and convenient way to access your server."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"4-download-the-ssh-key",children:(0,i.jsx)(n.strong,{children:"4. Download the SSH Key"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["In the Lightsail dashboard, scroll to the ",(0,i.jsx)(n.strong,{children:"Connect to your instance"})," section."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Look at the ",(0,i.jsx)(n.strong,{children:"Use your own SSH client"})," subsection in the lower right."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Download the SSH key by clicking the link labeled ",(0,i.jsx)(n.strong,{children:"Download default key"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Save the key file to your project under a new folder called ",(0,i.jsx)(n.code,{children:"keys/"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"todo-app/\n\u251c\u2500\u2500 keys/\n\u2502   \u2514\u2500\u2500 lightsail-key.pem\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Immediately add ",(0,i.jsx)(n.code,{children:"lightsail-key.pem"})," to your ",(0,i.jsx)(n.code,{children:".gitignore"})," file so it doesn't get added to your repository. This key gives anyone access to your server, so you want to protect it."]}),"\n",(0,i.jsx)(n.p,{children:"To ensure the SSH key is not accidentally committed to version control:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Open your ",(0,i.jsx)(n.code,{children:".gitignore"})," file."]}),"\n",(0,i.jsx)(n.li,{children:"Add the following line:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-plaintext",children:"keys/\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Secure the SSH key by updating its permissions:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"chmod 600 keys/lightsail-key.pem\n"})}),"\n",(0,i.jsx)(n.p,{children:"This step ensures your SSH private key is secure by restricting its permissions to the file owner only. Without this, other users on your system could access the key, compromising the security of your Lightsail instance. Additionally, SSH requires the private key to have secure permissions (read/write for the owner only) to function properly."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"understanding-the-fields-in-the-instance-details-ui",children:(0,i.jsx)(n.strong,{children:"Understanding the Fields in the Instance Details UI"})}),"\n",(0,i.jsx)(n.p,{children:"Here\u2019s a brief explanation of the fields displayed in the Lightsail instance details screen:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Public IPv4 Address"}),": This is the IP address that external clients can use to access your instance. For example, ",(0,i.jsx)(n.code,{children:"3.21.248.77"})," in this case."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Private IPv4 Address"}),": This is the internal IP address within AWS\u2019s network. It is used for communication between AWS resources."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Public IPv6 Address"}),": If IPv6 is enabled, this is the public IPv6 address that external clients can use to access your instance."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Username"}),": The default username for connecting to the instance, which is usually ",(0,i.jsx)(n.code,{children:"bitnami"})," for Lightsail Node.js instances."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"SSH Key"}),": This section includes a link to download the default private key required to connect to the instance via SSH."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"5-connect-via-vscode-terminal",children:(0,i.jsx)(n.strong,{children:"5. Connect via VSCode Terminal"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Open VSCode and navigate to the terminal."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Use the following SSH command to connect to your Lightsail instance:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ssh -i keys/lightsail-key.pem bitnami@<lightsail-instance-ip>\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Replace ",(0,i.jsx)(n.code,{children:"<lightsail-instance-ip>"})," with the public IP address of your Lightsail instance, which can be found in the Lightsail dashboard."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Note: When connecting to a remote server via SSH for the first time, you\u2019ll see a warning like this:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"The authenticity of host '3.21.248.77 (3.21.248.77)' can't be established.\nED25519 key fingerprint is SHA256:ayqy//nIyCC5eWb5kRYW2SsyebuN8XYOoTfJfJrIXoc.\nThis key is not known by any other names.\nAre you sure you want to continue connecting (yes/no/[fingerprint])?\n"})}),"\n",(0,i.jsx)(n.p,{children:"This is because your computer hasn\u2019t encountered this server before. The message informs you of the server\u2019s fingerprint (a unique identifier) to confirm its authenticity. This is a security measure to prevent connecting to an imposter server."}),"\n",(0,i.jsx)(n.p,{children:"If you\u2019re confident that the server address (e.g., 3.21.248.77) is correct and you\u2019re connecting securely (e.g., using the correct key and username), type \u201cyes\u201d and press Enter to proceed. This will save the server\u2019s fingerprint in your local ~/.ssh/known_hosts file for future verification. The next time you connect, this warning will not appear unless the server\u2019s fingerprint changes (which could indicate a security risk). Always verify the server details before proceeding."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Once connected, you\u2019ll have full shell access to your instance, enabling you to manage and configure your app directly from the VSCode terminal. This is the same as when you connected to your instance from the browser terminal earlier in this section."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Perform some of the same commands like ",(0,i.jsx)(n.code,{children:"pwd"})," and ",(0,i.jsx)(n.code,{children:"whoami"})," to demonstrate that the experience is the same."]}),"\n",(0,i.jsxs)(n.p,{children:["When you're done and want to disconnect from the server, issue the command ",(0,i.jsx)(n.code,{children:"exit"}),". This ends your ",(0,i.jsx)(n.code,{children:"ssh"})," session, and is the same as closing the browser terminal above."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:(0,i.jsx)(n.strong,{children:"Next Steps"})}),"\n",(0,i.jsx)(n.p,{children:"Now that your Lightsail instance is set up and accessible, we\u2019re ready to move on to deploying your backend and frontend applications. Let\u2019s proceed!"})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var t=s(6540);const i={},r=t.createContext(i);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);